{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","filter","handleFilter","react_default","a","createElement","value","onChange","PersonForm","addPerson","newName","newNumber","handleName","handleNumber","onSubmit","type","Persons","show","remove","map","person","key","id","name","number","onClick","baseUrl","contacts","axios","get","newObject","post","put","concat","delete","Notification","message","errorMessage","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setMessage","_useState5","_useState6","setErrorMessage","useEffect","contactService","then","response","data","_useState7","_useState8","setNewName","_useState9","_useState10","setNewNumber","_useState11","_useState12","setFilter","personsToShow","toUpperCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","window","confirm","setTimeout","console","log","components_Persons","removedId","Number","removed","filtered","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d3e74580.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilter }) => {\n    return (\n        <div>\n        rajaa näytettäviä: <input\n        value={filter}\n        onChange={handleFilter}\n        />\n      </div>\n    )\n  }\n  \n  export default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, newNumber, handleName, handleNumber }) => {\n    return (\n        <form onSubmit={addPerson}>\n        <div> \n          <h3>lisää uusi</h3>\n          nimi: <input \n          value={newName}\n          onChange={handleName}\n          />\n        </div>\n        <div>\n          numero: <input\n          value={newNumber}\n          onChange={handleNumber}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n    )\n  }\n  \n  export default PersonForm","import React from 'react'\n\nconst Persons = ( {show, remove} ) => {\n    return show.map(person =>\n        <p key={person.id}>\n            {person.name} {person.number} \n            <button\n                value={person.id}\n                onClick={remove}>\n                poista\n            </button>\n        </p>\n        )\n    }\n  export default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react';\n\nconst Notification = ({ message, errorMessage }) => {\n    if (message === null && errorMessage === null) {\n      return null\n    }\n    \n    if (errorMessage !== null) {\n        return (\n            <div className=\"error\">\n              {errorMessage}\n            </div>\n          )\n    }\n    \n    return (\n        <div className=\"message\">\n            {message}\n        </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport contactService from './services/contacts'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage] = useState(null)\n  \n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n\n  const personsToShow = filter\n    ? persons.filter (person => person.name.toUpperCase().includes(filter.toUpperCase()))\n    : persons\n\n  const addPerson = (event) => {\n      event.preventDefault();\n      if(persons.find(person => person.name === newName)) {\n        if(window.confirm(newName + ' on jo luettelossa, korvataantko vanha numero uudella?')) {\n          const updated = persons.find(person => person.name === newName)\n          const id = updated.id\n          const newObject = {\n            name: newName,\n            number: newNumber\n          }\n          contactService\n            .update(id, newObject)\n            .then(response => {\n              setPersons(persons.map(person => person.id !== id ? person : response.data))\n\n              setMessage(\n                `muutettiin henkilön ${newName} numeroa`\n              )\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n\n              setNewName(\"\")\n              setNewNumber(\"\")\n            })\n        }\n      } else {\n\n      const personObject = {\n          name: newName,\n          number: newNumber\n      }\n      \n      contactService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n\n          setMessage(\n            `Lisättiin ${newName}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n\n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n      }\n      }\n\n  const removePerson = (event) => {\n    const removedId = Number(event.target.value)\n    const removed = persons.find(person => person.id === removedId);\n\n    if (window.confirm(`poistetaanko ${removed.name}`)) {\n      let filtered = persons.filter(person => person.id !== removedId)\n      contactService\n        .remove(removedId)\n        .then(setPersons(filtered))\n\n        .catch(error => {\n          setErrorMessage(\n            `${removed.name} oli jo poistettu`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          },5000)\n        })\n\n        setMessage(\n          `Poistettiin ${removed.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n    }\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleName = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      <Notification message={message} errorMessage={errorMessage} />\n\n        <Filter\n          filter={filter}\n          handleFilter={handleFilter}\n        />\n\n        <PersonForm\n            addPerson={addPerson}\n            newName={newName}\n            newNumber={newNumber}\n            handleName={handleName}\n            handleNumber={handleNumber}\n        />\n\n      <h3>Numerot</h3>\n\n      <Persons\n          show={personsToShow}\n          remove={removePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}